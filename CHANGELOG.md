# 📋 变更日志

所有重要的项目变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
本项目遵循 [语义化版本控制](https://semver.org/lang/zh-CN/)。

## [未发布] - TBD

### 🔄 计划中
- [ ] 支持更多附魔书类型
- [ ] 添加配置文件支持
- [ ] 优化用户界面反馈

## [1.0.1] - 2024-12-09

### 🔧 修复
- 修复Mixin注入错误（CallbackInfoReturnable -> CallbackInfo）
- 修复版本兼容性问题（1.21.8 -> 1.21.1）
- 修复ItemEnchantmentsComponent API调用错误

### ⚡ 改进
- 添加详细的调试日志输出
- 改进经验消耗逻辑（净消耗1级经验）
- 增强用户反馈机制（聊天栏提示）
- 完善GitHub项目页面设计

### 🛠️ 技术更新
- 更新Yarn映射版本至1.21.1+build.3
- 更新Fabric API至0.116.6+1.21.1
- 规范代码注释和文档

## [1.0.0] - 2024-12-08

### ✨ 新功能
- **核心功能**: 实现附魔书拆分机制
  - 左槽放置多附魔书
  - 右槽放置普通书或留空
  - 输出单个附魔的新书
  - 原书保留剩余附魔

- **经验系统**: 集成经验消耗机制
  - 每次拆分消耗1级经验
  - 智能经验点计算

- **UI集成**: 零侵入式界面设计
  - 完全使用原版铁砧界面
  - 无需额外GUI组件
  - 保持原版操作体验

### 🏗️ 技术实现
- **Mixin框架**: 运行时字节码注入
  - `AnvilScreenHandlerMixin`: 结果计算逻辑
  - `AnvilScreenHandlerTakeMixin`: 物品取出处理

- **组件系统**: 使用新版附魔API
  - `ItemEnchantmentsComponent`: 附魔组件管理
  - `EnchantmentHelper`: 附魔工具类集成

- **客户端架构**: Fabric客户端模组
  - 仅需客户端安装
  - 服务器无需同步
  - 完美单人/多人兼容

### 📦 环境支持
- **Minecraft版本**: 1.21.1
- **Fabric Loader**: 0.16.14+
- **Fabric API**: 0.116.6+1.21.1
- **Java版本**: 21+

### 🎯 性能特点
- **零延迟**: 实时响应操作
- **低内存**: 最小资源占用
- **高兼容**: 与其他模组和谐共存

---

## 📝 变更类型说明

- `✨ 新功能` - 新增功能特性
- `🔧 修复` - Bug修复和错误处理
- `⚡ 改进` - 性能优化和体验提升
- `🛠️ 技术更新` - 依赖更新和技术栈变更
- `📚 文档` - 文档和注释更新
- `🔄 重构` - 代码重构和架构调整
- `🚀 发布` - 版本发布和里程碑
- `⚠️ 废弃` - 废弃功能和API
- `🗑️ 移除` - 删除功能和代码

---

## 📊 版本统计

| 版本 | 发布日期 | 主要变更 | 贡献者 |
|------|----------|----------|--------|
| v1.0.1 | 2024-12-09 | 错误修复 + 功能改进 | AnvilMagic-Agent |
| v1.0.0 | 2024-12-08 | 初始发布 | AnvilMagic-Agent |

---

*感谢所有为项目做出贡献的开发者！* 🙏